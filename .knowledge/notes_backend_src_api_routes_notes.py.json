{"is_source_file": true, "format": "Python", "description": "This file defines API routes for a simple in-memory notes backend using FastAPI. It includes CRUD operations for notes, such as creating, listing, retrieving, updating (full and partial), and deleting notes, with associated route configurations and internal helper functions for ID and timestamp management.", "external_files": ["./models"], "external_methods": ["fastapi.APIRouter", "fastapi.HTTPException", "fastapi.status", "fastapi.Response"], "published": ["router"], "classes": [{"name": "Note", "description": "Data model representing a note, imported from models"}, {"name": "NoteCreate", "description": "Data model for creating a new note, imported from models"}, {"name": "NoteUpdate", "description": "Data model for updating an existing note, imported from models"}], "methods": [{"name": "Note create_note(payload: NoteCreate)", "description": "Creates and stores a new note with a unique ID and timestamp.", "scope": "", "scopeKind": ""}, {"name": "List[Note] list_notes()", "description": "Returns all stored notes sorted by most recent update.", "scope": "", "scopeKind": ""}, {"name": "Note get_note(note_id: int)", "description": "Retrieves a specific note by ID, raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "Note replace_note( note_id: int, payload: NoteCreate = ..., )", "description": "Fully replaces an existing note with new data.", "scope": "", "scopeKind": ""}, {"name": "Note update_note( note_id: int, payload: NoteUpdate = ..., )", "description": "Partially updates an existing note's title and/or content.", "scope": "", "scopeKind": ""}, {"name": "Response delete_note(note_id: int)", "description": "Deletes a note by ID, raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "datetime _now()", "description": "Returns the current UTC datetime with timezone info.", "scope": "", "scopeKind": ""}, {"name": "int _allocate_id()", "description": "Allocates and returns the next available integer ID for notes.", "scope": "", "scopeKind": ""}], "calls": ["status.HTTP_201_CREATED", "status.HTTP_204_NO_CONTENT", "status.HTTP_404_NOT_FOUND", "status.HTTP_422_UNPROCESSABLE_ENTITY", "Response", "sorted"], "search-terms": ["routes_notes", "Notes", "APIRouter", "CRUD", "in-memory store", "FastAPI routes"], "state": 2, "file_id": 6, "knowledge_revision": 22, "git_revision": "d7473b881a9f94c68bdb420dbfac6124b6476a0a", "revision_history": [{"13": ""}, {"18": "ef846a34ed476394d033ee1af0789b04abcc12db"}, {"19": "b41f5e4efbb9829f8a8fb0b126f22cd02da10340"}, {"21": "d7473b881a9f94c68bdb420dbfac6124b6476a0a"}, {"22": "d7473b881a9f94c68bdb420dbfac6124b6476a0a"}], "ctags": [{"_type": "tag", "name": "_NEXT_ID", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^_NEXT_ID: int = 1$/", "language": "Python", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "_STORE", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^_STORE: Dict[int, Note] = {}$/", "language": "Python", "typeref": "typename:Dict[int, Note]", "kind": "variable"}, {"_type": "tag", "name": "_allocate_id", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def _allocate_id() -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_now", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def _now() -> datetime:$/", "language": "Python", "typeref": "typename:datetime", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def create_note(payload: NoteCreate) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "(payload: NoteCreate)"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def delete_note(note_id: int) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(note_id: int)"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def get_note(note_id: int) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "(note_id: int)"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def list_notes() -> List[Note]:$/", "language": "Python", "typeref": "typename:List[Note]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "replace_note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def replace_note($/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "( note_id: int, payload: NoteCreate = ..., )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^router = APIRouter($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-187117-187126/notes_backend/src/api/routes_notes.py", "pattern": "/^def update_note($/", "language": "Python", "typeref": "typename:Note", "kind": "function", "signature": "( note_id: int, payload: NoteUpdate = ..., )"}], "hash": "4e76fb4d228c703d334fc54cdb7320bc", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/routes_notes.py", "fields": [{"name": "int _NEXT_ID", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[int, Note] _STORE", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(", "scope": "", "scopeKind": "", "description": "unavailable"}]}